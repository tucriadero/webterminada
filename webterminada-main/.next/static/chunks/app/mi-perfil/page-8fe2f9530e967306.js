(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{4001:function(e,t,s){Promise.resolve().then(s.bind(s,1391))},1391:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(7437),n=s(2265),i=s(1774),o=s(2141),a=s(9376),u=s(3145),l=s(7648);function c(){let e=(0,i.useUser)(),t=(0,a.useRouter)(),[s,c]=(0,n.useState)(null),[d,f]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{e&&(async()=>{let{data:t,error:s}=await o.O.from("profiles").select("*").eq("id",e.id).single();s||!t?c(null):c(t),f(!1)})()},[e]),(0,n.useEffect)(()=>{null!==e||d||t.push("/login")},[e,d,t]),d)?(0,r.jsx)("div",{className:"p-10 text-center",children:"Cargando perfil..."}):s?(0,r.jsxs)("div",{className:"min-h-screen bg-[#DFF6EA] flex flex-col items-center justify-center px-4 py-10",children:[(0,r.jsx)("img",{src:"/logo-criador.png",alt:"TuCriadero logo",className:"w-20 h-20 mb-6 drop-shadow"}),(0,r.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-8 w-full max-w-md text-center space-y-4",children:[(0,r.jsx)("div",{className:"relative flex justify-center",children:(0,r.jsx)(u.default,{src:(null==s?void 0:s.avatar_url)?"https://cinsudwupbiqqizvqwij.supabase.co/storage/v1/object/public/avatars/".concat(s.avatar_url):"/default-avatar.png",alt:"Avatar",width:100,height:100,unoptimized:!0,priority:!0,className:"rounded-full object-cover border hover:opacity-80 transition"},null==s?void 0:s.avatar_url)}),(0,r.jsxs)("h2",{className:"text-2xl font-bold text-[#5cae97]",children:["@",s.username]}),(0,r.jsx)("p",{className:"text-gray-700",children:s.nombre}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:s.provincia}),s.telefono&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["\uD83D\uDCDE ",(0,r.jsx)("span",{className:"font-medium",children:s.telefono})]}),s.is_criadero&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"inline-block bg-[#e1f7ef] text-[#3e947d] text-xs font-medium px-3 py-1 rounded-full",children:"\uD83C\uDFC5 Criador verificado"}),(0,r.jsxs)("p",{className:"text-sm mt-2",children:["\uD83D\uDC3E Afijo: ",(0,r.jsx)("strong",{children:s.afijo})]}),(0,r.jsxs)("p",{className:"text-sm",children:["\uD83D\uDCCB N\xfacleo zool\xf3gico: ",(0,r.jsx)("strong",{children:s.nucleo_zoologico})]})]}),(0,r.jsx)(l.default,{href:"/editar-perfil",className:"inline-block mt-4 bg-[#5cae97] hover:bg-[#4c9c85] text-white font-medium px-6 py-2 rounded-full transition",children:"Editar perfil"})]}),(0,r.jsx)(l.default,{href:"/inicio",className:"mt-6 inline-block bg-[#e8f8f2] hover:bg-[#d2eee2] text-[#5cae97] font-medium px-6 py-2 rounded-full transition duration-200 shadow-sm",children:"â† Volver al inicio"})]}):(0,r.jsx)("div",{className:"p-10 text-center text-red-500 font-semibold",children:"Usuario no encontrado."})}},2141:function(e,t,s){"use strict";s.d(t,{O:function(){return r}});let r=(0,s(6580).eI)("https://cinsudwupbiqqizvqwij.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNpbnN1ZHd1cGJpcXFpenZxd2lqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI0ODQ3MTIsImV4cCI6MjA2ODA2MDcxMn0.NL4RoZ3dPWllHaJfK37WtPtu-6NTNJ-DRJrs6MAY8E0")},1774:function(e,t,s){"use strict";var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.prototype.hasOwnProperty,a=(e,t,s)=>new Promise((r,n)=>{var i=e=>{try{a(s.next(e))}catch(e){n(e)}},o=e=>{try{a(s.throw(e))}catch(e){n(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(i,o);a((s=s.apply(e,t)).next())}),u={};((e,t)=>{for(var s in t)r(e,s,{get:t[s],enumerable:!0})})(u,{SessionContextProvider:()=>f,useSession:()=>h,useSessionContext:()=>m,useSupabaseClient:()=>x,useUser:()=>p}),e.exports=((e,t,s,a)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let s of i(t))o.call(e,s)||void 0===s||r(e,s,{get:()=>t[s],enumerable:!(a=n(t,s))||a.enumerable});return e})(r({},"__esModule",{value:!0}),u);var l=s(2265),c=s(7437),d=(0,l.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),f=({supabaseClient:e,initialSession:t=null,children:s})=>{let[r,n]=(0,l.useState)(t),[i,o]=(0,l.useState)(!t),[u,f]=(0,l.useState)();(0,l.useEffect)(()=>{!r&&t&&n(t)},[r,t]),(0,l.useEffect)(()=>{let t=!0;return function(){a(this,null,function*(){let{data:{session:s},error:r}=yield e.auth.getSession();if(t){if(r){f(r),o(!1);return}n(s),o(!1)}})}(),()=>{t=!1}},[]),(0,l.useEffect)(()=>{let{data:{subscription:t}}=e.auth.onAuthStateChange((e,t)=>{t&&("SIGNED_IN"===e||"TOKEN_REFRESHED"===e||"USER_UPDATED"===e)&&n(t),"SIGNED_OUT"===e&&n(null)});return()=>{t.unsubscribe()}},[]);let m=(0,l.useMemo)(()=>i?{isLoading:!0,session:null,error:null,supabaseClient:e}:u?{isLoading:!1,session:null,error:u,supabaseClient:e}:{isLoading:!1,session:r,error:null,supabaseClient:e},[i,r,u]);return(0,c.jsx)(d.Provider,{value:m,children:s})},m=()=>{let e=(0,l.useContext)(d);if(void 0===e)throw Error("useSessionContext must be used within a SessionContextProvider.");return e};function x(){let e=(0,l.useContext)(d);if(void 0===e)throw Error("useSupabaseClient must be used within a SessionContextProvider.");return e.supabaseClient}var h=()=>{let e=(0,l.useContext)(d);if(void 0===e)throw Error("useSession must be used within a SessionContextProvider.");return e.session},p=()=>{var e,t;let s=(0,l.useContext)(d);if(void 0===s)throw Error("useUser must be used within a SessionContextProvider.");return null!=(t=null==(e=s.session)?void 0:e.user)?t:null}},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[648,580,145,971,117,744],function(){return e(e.s=4001)}),_N_E=e.O()}]);